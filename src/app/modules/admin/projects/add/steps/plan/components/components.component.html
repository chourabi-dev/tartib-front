<div class="flex flex-col flex-auto min-w-0">

  <!-- Header -->
  <div class="flex justify-end mb-5">
    <button (click)="addComponent()" class="ml-4" mat-flat-button [color]="'primary'">
      <mat-icon [svgIcon]="'heroicons_outline:plus'"></mat-icon>
      <span class="ml-2 mr-1">Ajouter composantes</span>
    </button>
  </div>

  <!-- Main -->
  <div class="flex flex-auto overflow-hidden">
    <!-- Products list -->
    <div class="flex flex-col flex-auto sm:mb-18 overflow-hidden sm:overflow-y-auto">
      <ng-container>
        <ng-container>
          <div class="grid">
            <!-- Header -->
            <div
              class="inventory-grid z-10 sticky top-0 grid gap-4 py-2 px-4 md:px-8 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5"
              matSort matSortDisableClear>
              <div>#</div>
              <div class="hidden sm:block" [mat-sort-header]="'code'">Code</div>
              <div class="hidden sm:block" [mat-sort-header]="'name'">Nom</div>
              <div class="hidden sm:block" [mat-sort-header]="'description'">Description</div>
              <div class="hidden lg:block" [mat-sort-header]="'isSubComponent'">Sous composant</div>
              <div class="hidden lg:block" [mat-sort-header]="'component'">Composant li√©</div>
              <div class="hidden sm:block">Actions</div>
            </div>
            <!-- Rows -->
            <ng-container *ngFor="let data of components">
              <div class="inventory-grid grid items-center gap-4 py-3 px-6 md:px-8 border-b">

                <div class="truncate">
                  {{data.id}}
                </div>
                <div class="truncate">
                  {{data.code}}
                </div>
                <div class="truncate">
                  {{data.name}}
                </div>
                <div class="truncate">
                  {{data.description?data.description:'--'}}
                </div>
                <div class="truncate">
                  {{data.subComponent?"Oui":"Non"}}
                </div>
                <div class="truncate">
                  {{data.component?data.component.code:'--'}}
                </div>
                <div class="truncate">
                  <button class="ml-2" mat-icon-button [matMenuTriggerFor]="mailMenu">
                    <mat-icon [svgIcon]="'heroicons_outline:ellipsis-vertical'"></mat-icon>
                  </button>
                  <mat-menu #mailMenu="matMenu">
                    <!-- Edit -->
                    <button (click)="editComponent(data.id)" mat-menu-item>
                      <mat-icon [svgIcon]="'heroicons_outline:pencil'"></mat-icon>
                      <span>Edit</span>
                    </button>
                    <!-- Delete -->
                    <button mat-menu-item>
                      <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:trash'"></mat-icon>
                      <span class="text-red-500">Delete</span>
                    </button>
                  </mat-menu>
                </div>

              </div>
            </ng-container>

          </div>

          <mat-paginator
            class="sm:absolute sm:inset-x-0 sm:bottom-0 border-b sm:border-t sm:border-b-0 z-10 bg-gray-50 dark:bg-transparent"
            [ngClass]="{'pointer-events-none': isLoading}" [length]="0" [pageIndex]="0" [pageSize]="0"
            [pageSizeOptions]="[5, 10, 25, 100]" [showFirstLastButtons]="true">
          </mat-paginator>

        </ng-container>
      </ng-container>

      <!-- <ng-template #noProjects>
          <div class="p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center">There are no products!</div>
        </ng-template> -->

    </div>

  </div>

</div>
